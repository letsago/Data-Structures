extends ./common/layout.jade

mixin generateDropDownList(label, name, array)
    .col-6
        label= label
        select.custom-select(name=name, id=name)
            each val in array
                option= val

mixin addResult(movie)
    .row
        .col
            a.h2.font-weight-bold(role='button', href='/details/#{movie.id}')= movie.title
    .row.align-items-center.mb-4
        .col-3
            if(movie.rating)
                .font-italic Rating: #{movie.rating} 
            if(movie.length)
                .font-italic Runtime: #{movie.length} min
            if(movie.imdb)  
                .font-italic IMDb: #{movie.imdb}
            if(movie.rottenTomatoes)
                .font-italic Rotten Tomatoes: #{movie.rottenTomatoes}%
            if(movie.img)       
                img.w-75(src=movie.img)
        .col
            //- Currently static data, will update with correct data after CSS formatting changes
            h4.m-0 AMC
            h5 January 11, 2019
            .d-inline.p-2.bg-success.text-white.rounded-pill 7:00 pm
            .d-inline.p-2.bg-success.text-white.rounded-pill 9:00 pm
            .d-inline.p-2.bg-success.text-white.rounded-pill 11:00 pm

mixin movieCard(movie, showing, theater)
    .row
        .col
            h2.font-weight-bold.mb-0= movie.title
            if(movie.rating)
                .font-italic Rating: #{movie.rating} 
            if(movie.length)
                .font-italic Runtime: #{movie.length} min
    .row 
        .col-4
            if(movie.img)
                img(src=movie.img)
        .col-3
            h4.m-0 Ratings
            if(movie.rottenTomatoes)
                .pl-4
                    a(href=movie.RT_url) Rotten Tomatoes: #{movie.rottenTomatoes}%
            if(movie.imdb)
                .pl-4
                    a(href=movie.imdb_url) IMDb: #{movie.imdb}
            h4.m-0 Genres
            each genre in movie.genres
                .pl-4= genre            
            h4.m-0 Cast
            each actor in movie.cast
                .pl-4= actor
            h4.m-0 Directed By
            each director in movie.directors 
                .pl-4= director
        .col
            if(showing)
                h4.m-0 Theater 
                .pl-4= theater.name
                h4.m-0 Date
                .pl-4= showing.date
                h4.m-0 Address 
                .pl-4= theater.street
                .pl-4 #{theater.city}, #{theater.state} #{theater.zipCode}
                h4 Times
                .pl-4
                    each time in showing.times
                        .d-inline.p-2.bg-success.text-white.rounded-pill= time
            else
                h4 Unfortunately, there are no current showings for #{movie.title} near your location.
    .row
        .col.mt-3
            if(movie.synopsis)
                .p= movie.synopsis
mixin button(link, message)
    a(href=link)
        button.btn.btn-primary.float-right(type='button')= message

mixin navbar(title)
    .navbar.navbar-light.bg-dark
        .container
            h1.text-white.mt-2= title
            block
